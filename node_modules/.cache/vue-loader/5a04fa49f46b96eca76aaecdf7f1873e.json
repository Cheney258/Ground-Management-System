{"remainingRequest":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\users\\query\\apply\\game.vue?vue&type=style&index=0&id=5144a8db&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\users\\query\\apply\\game.vue","mtime":1647242016299},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouZm9ybSB7DQogICAgd2lkdGg6IDQ4MHB4Ow0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBsZWZ0OiA1MCU7DQogICAgbWFyZ2luLWxlZnQ6IC0yMjVweDsNCiAgICB0b3A6IDQwJTsNCn0NCi5lbC1yYWRpbyB7DQogICAgY29sb3I6ICMwMDAwMDA7DQogICAgbWFyZ2luLXJpZ2h0OiAwcHg7DQp9DQo="},{"version":3,"sources":["game.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"game.vue","sourceRoot":"src/views/users/query/apply","sourcesContent":["<template>\r\n    <div>\r\n        <el-table :data=\"myApply\" style=\"width: 100%; margin: 10px\">\r\n            <el-table-column\r\n                type=\"index\"\r\n                label=\"序号\"\r\n                width=\"80\"\r\n                align=\"center\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"gamename\"\r\n                label=\"活动名称\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"activityType\"\r\n                label=\"活动类型\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"gametime\"\r\n                label=\"活动时间\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"status\"\r\n                label=\"审批状态\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n            >\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag type=\"info\" v-if=\"scope.row.status == '审核中'\"\r\n                        >审核中</el-tag\r\n                    >\r\n                    <el-tag type=\"success\" v-if=\"scope.row.status == '通过'\"\r\n                        >通过</el-tag\r\n                    >\r\n                    <el-tag type=\"danger\" v-if=\"scope.row.status == '驳回'\"\r\n                        >驳回</el-tag\r\n                    >\r\n                    <el-tag type=\"warning\" v-if=\"scope.row.status == '取消申请'\"\r\n                        >取消申请</el-tag\r\n                    >\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"prop\"\r\n                label=\"操作\"\r\n                width=\"width\">\r\n                <template slot-scope=\"{ row }\">\r\n                    <el-button @click=\"exhibition(row)\">详情</el-button>\r\n                    <el-button type=\"warning\" v-if=\"row.status == '审核中'\" @click=\"cancel(row)\">取消申请</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-dialog\r\n            title=\"详情页\"\r\n            :model=\"showlist\"\r\n            :visible.sync=\"isShow\"\r\n            class=\"dialog\"\r\n        >\r\n            <el-form label-position=\"rigth\" label-width=\"100px\" class=\"form\">\r\n                <el-form-item label=\"活动名称:\">\r\n                    <el-input\r\n                        v-model=\"showlist.gamename\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"活动类型:\">\r\n                    <el-input\r\n                        v-model=\"showlist.activityType\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <!-- <el-form-item label=\"活动ID:\" >\r\n                            <el-input v-model=\"showlist.contest_id\" readonly=\"readonly\" class=\"input\"></el-input>\r\n                        </el-form-item> -->\r\n                <!-- <el-form-item label=\"活动地点:\" >\r\n                            <el-input v-model=\"showlist.position\" readonly=\"readonly\" class=\"input\"></el-input>\r\n                        </el-form-item> -->\r\n                <el-form-item label=\"活动时间:\">\r\n                    <el-input\r\n                        v-model=\"showlist.gametime\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"活动描述:\">\r\n                    <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"showlist.description\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"申请时间:\">\r\n                    <el-input\r\n                        v-model=\"showlist.apptime\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item\r\n                    label=\"审批号:\"\r\n                    v-if=\"showlist.code\"\r\n                    style=\"width: 180px\"\r\n                >\r\n                    <el-input\r\n                        v-model=\"showlist.code\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"申请状态\">\r\n                    <el-radio-group\r\n                        v-model=\"showlist.status\"\r\n                        size=\"medium\"\r\n                        disabled\r\n                    >\r\n                        <el-radio label=\"通过\" size=\"medium\"></el-radio>\r\n                        <el-radio label=\"审核中\" size=\"medium\"></el-radio>\r\n                        <el-radio label=\"驳回\" size=\"medium\"></el-radio>\r\n                        <el-radio label=\"取消申请\" size=\"medium\"></el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\">\r\n                <el-button type=\"primary\" @click=\"isShow = false\"\r\n                    >返 回</el-button\r\n                >\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Game\",\r\n\r\n    data() {\r\n        return {\r\n            isShow: false,\r\n            myApply: [],\r\n            showlist: {},\r\n        };\r\n    },\r\n\r\n    mounted() {\r\n        this.getGameApplyInfo();\r\n    },\r\n\r\n    methods: {\r\n        // 获取用户申请数据\r\n        async getGameApplyInfo() {\r\n            // console.log(this.$store)\r\n            const uid = this.$store.state.user.uid;\r\n            // console.log(uid)\r\n            let result = await this.$store.dispatch(\"getGameApply\", uid);\r\n            // console.log(result)\r\n            if (result.message) {\r\n                this.$message.error(result.message);\r\n            } else {\r\n                this.myApply = result;\r\n                this.myApply.forEach((item) => {\r\n                    item.gametime = this.$moment(item.gametime).format(\r\n                        \"YYYY-MM-DD HH:mm:ss\"\r\n                    );\r\n                    item.apptime = this.$moment(item.apptime).format(\r\n                        \"YYYY-MM-DD HH:mm:ss\"\r\n                    );\r\n                    switch (item.status) {\r\n                        case \"0\":\r\n                            item.status = \"审核中\";\r\n                            break;\r\n                        case \"1\":\r\n                            item.status = \"通过\";\r\n                            break;\r\n                        case \"2\":\r\n                            item.status = \"驳回\";\r\n                            break;\r\n                        case \"3\":\r\n                            item.status = \"取消申请\";\r\n                            break;\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        // 展示指定申请的详情\r\n        exhibition(row) {\r\n            this.showlist = row;\r\n            this.isShow = true;\r\n            // console.log(row)\r\n        },\r\n\r\n        // 取消申请\r\n        async cancel(row) {\r\n            console.log(row)\r\n            const result = await this.$store.dispatch(\"cancel\", {gid: row.gid});\r\n            if ((result.code = 200)) {\r\n                // 取消成功重新获取数据\r\n                this.getGameApplyInfo()\r\n                this.$notify.success({\r\n                    title: \"成功\",\r\n                    message: \"取消成功\",\r\n                });\r\n            } else {\r\n                this.$notify.error({\r\n                    title: \"失败\",\r\n                    message: \"取消失败\",\r\n                });\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.form {\r\n    width: 480px;\r\n    position: relative;\r\n    left: 50%;\r\n    margin-left: -225px;\r\n    top: 40%;\r\n}\r\n.el-radio {\r\n    color: #000000;\r\n    margin-right: 0px;\r\n}\r\n</style>\r\n"]}]}