{"remainingRequest":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\users\\query\\apply\\game.vue?vue&type=style&index=1&id=5144a8db&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\users\\query\\apply\\game.vue","mtime":1649063524347},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouZm9ybSAvZGVlcC8gLmVsLXJhZGlvIHsNCiAgICAvKiBjb2xvcjogIzU3NGU0ZSFpbXBvcnRhbnQ7ICovDQogICAgbWFyZ2luLXJpZ2h0OiA1cHggIWltcG9ydGFudDsNCn0NCi5mb3JtIC9kZWVwLyAuZWwtcmFkaW9fX2lucHV0LmlzLWRpc2FibGVkICsgc3Bhbi5lbC1yYWRpb19fbGFiZWwgew0KICAgIC8qIGNvbG9yOiAjNTc0ZTRlIWltcG9ydGFudDsgKi8NCiAgICAvKiBmb250LXNpemU6IDE2cHghaW1wb3J0YW50OyAqLw0KICAgIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7DQp9DQouZm9ybSAvZGVlcC8gLmVsLXJhZGlvX19pbnB1dC5pcy1jaGVja2VkICsgLmVsLXJhZGlvX19sYWJlbCB7DQogICAgY29sb3I6IHJnYig1NSwgMCwgMjU1KSAhaW1wb3J0YW50Ow0KfQ0K"},{"version":3,"sources":["game.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"game.vue","sourceRoot":"src/views/users/query/apply","sourcesContent":["<template>\r\n    <div>\r\n        <el-table :data=\"myApply\" style=\"width: 100%; margin: 10px\" stripe :default-sort = \"{prop: 'apptime', order: 'descending'}\">\r\n            <el-table-column\r\n                type=\"index\"\r\n                label=\"序号\"\r\n                width=\"80\"\r\n                align=\"center\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"gamename\"\r\n                label=\"活动名称\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"activityType\"\r\n                label=\"活动类型\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n            >\r\n            </el-table-column>\r\n            <!-- <el-table-column\r\n                prop=\"gametime\"\r\n                label=\"活动时间\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n                sortable\r\n            >\r\n            </el-table-column> -->\r\n            <el-table-column\r\n                prop=\"apptime\"\r\n                label=\"申请时间\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n                sortable\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"status\"\r\n                label=\"审批状态\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n            >\r\n                <template slot-scope=\"{row}\">\r\n                    <el-tag type=\"info\" v-if=\"row.status == 0\"\r\n                        >审核中</el-tag\r\n                    >\r\n                    <el-tag type=\"success\" v-if=\"row.status == 1\"\r\n                        >通过</el-tag\r\n                    >\r\n                    <el-tag type=\"danger\" v-if=\"row.status == 2\"\r\n                        >驳回</el-tag\r\n                    >\r\n                    <el-tag type=\"warning\" v-if=\"row.status == 3\"\r\n                        >取消申请</el-tag\r\n                    >\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"prop\" label=\"操作\" width=\"width\">\r\n                <template slot-scope=\"{ row }\">\r\n                    <el-button type=\"warning\" v-if=\"row.status == 0\" @click=\"cancel(row)\">取消申请</el-button >\r\n                    <el-button type=\"info\" @click=\"exhibition(row)\">查看详情</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <pagination\r\n            :currentPage=\"currentPage\"\r\n            :total=\"total\"\r\n            :limit=\"limit\"\r\n            :page-sizes='pageSizes'\r\n            @handleCurrentChange=\"handleCurrentChange\"\r\n            @handleSizeChange=\"handleSizeChange\"\r\n        />\r\n        <el-dialog title=\"详情页\" :model=\"showlist\" :visible.sync=\"isShow\" class=\"dialog\">\r\n            <el-form label-position=\"rigth\" label-width=\"180px\" class=\"form\">\r\n                <el-form-item label=\"活动名称:\">\r\n                    <span><b><h3>{{showlist.gamename}}</h3></b></span>\r\n                </el-form-item>\r\n                <el-form-item label=\"活动类型:\">\r\n                    <span><b><h3>{{showlist.activityType}}</h3></b></span>\r\n                </el-form-item>\r\n                <el-form-item label=\"活动时间:\">\r\n                    <span><b><h3>{{showlist.gametime}}</h3></b></span>\r\n                </el-form-item>\r\n                <el-form-item label=\"活动描述:\">\r\n                    <span><b><h3>{{showlist.description}}</h3></b></span>\r\n                </el-form-item>\r\n                <el-form-item label=\"申请时间:\">\r\n                    <span><b><h3>{{showlist.apptime}}</h3></b></span>\r\n                </el-form-item>\r\n                <el-form-item label=\"审批号:\" v-if=\"showlist.code\" >\r\n                <span><b><h3>{{showlist.code}}</h3></b></span>\r\n                </el-form-item>\r\n                <el-form-item label=\"申请状态\">\r\n                    <el-radio-group v-model=\"showlist.status\" size=\"medium\" disabled >\r\n                        <el-radio label=1 size=\"medium\">通过</el-radio>\r\n                        <el-radio label=0 size=\"medium\">审核中</el-radio>\r\n                        <el-radio label=2 size=\"medium\">驳回</el-radio>\r\n                        <el-radio label=3 size=\"medium\">取消申请</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\">\r\n                <el-button type=\"primary\" @click=\"isShow = false\">返 回</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Game\",\r\n\r\n    data() {\r\n        return {\r\n            isShow: false,\r\n            myApply: [],\r\n            showlist: {},\r\n            currentPage: 1,\r\n            limit: 5,\r\n            total: 0,\r\n            pageSizes:[5,10,15,20]\r\n        };\r\n    },\r\n\r\n    mounted() {\r\n        this.getGameApplyInfo();\r\n    },\r\n\r\n    methods: {\r\n        // 获取用户申请数据\r\n        async getGameApplyInfo() {\r\n            // console.log(111)\r\n            const uid = this.$store.state.user.uid;\r\n            // console.log(uid)\r\n            let result = await this.$store.dispatch(\"getGameApply\", uid);\r\n            // console.log(result)\r\n            if (result.message) {\r\n                this.$message.error(result.message);\r\n            } else {\r\n                this.myApply = result.slice(\r\n                    (this.currentPage - 1) * this.limit,\r\n                    this.limit * this.currentPage\r\n                );\r\n                this.total = result.length;\r\n                // console.log(this.currentPage,(this.currentPage-1)*this.limit,this.limit,this.myApply)\r\n                this.myApply.forEach((item) => {\r\n                    item.gametime = this.$moment(item.gametime).format(\r\n                        \"YYYY-MM-DD HH:mm:ss\"\r\n                    );\r\n                    item.apptime = this.$moment(item.apptime).format(\r\n                        \"YYYY-MM-DD HH:mm:ss\"\r\n                    );\r\n                });\r\n            }\r\n        },\r\n        // 展示指定申请的详情\r\n        exhibition(row) {\r\n            this.showlist = row;\r\n            this.isShow = true;\r\n            // console.log(row)\r\n        },\r\n\r\n        // 取消申请\r\n        cancel(row) {\r\n            this.$comfirm('请确认取消该条申请','提示',{\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(async ()=>{\r\n                const result = await this.$store.dispatch(\"cancel\", {\r\n                    gid: row.gid,\r\n                });\r\n                if ((result.code = 200)) {\r\n                    // 取消成功重新获取数据\r\n                    this.getGameApplyInfo();\r\n                    this.$notify.success({\r\n                        title: \"成功\",\r\n                        message: \"取消成功\",\r\n                    });\r\n                    this.getGameApplyInfo()\r\n                } else {\r\n                    this.$notify.error({\r\n                        title: \"失败\",\r\n                        message: \"取消失败\",\r\n                    });\r\n                }\r\n            })\r\n            \r\n        },\r\n\r\n        // 分页器\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n            this.getGameApplyInfo();\r\n        },\r\n        handleSizeChange(val) {\r\n            this.limit = val;\r\n            this.currentPage = 1;\r\n            this.getGameApplyInfo();\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.form {\r\n    width: 480px;\r\n    position: relative;\r\n    left: 50%;\r\n    margin-left: -225px;\r\n    top: 40%;\r\n}\r\n.el-radio {\r\n    color: #000000;\r\n    margin-right: 0px;\r\n}\r\nh3{\r\n    margin: 0;\r\n    color: rgb(4, 28, 248);\r\n}\r\n</style>\r\n<style scoped>\r\n.form /deep/ .el-radio {\r\n    /* color: #574e4e!important; */\r\n    margin-right: 5px !important;\r\n}\r\n.form /deep/ .el-radio__input.is-disabled + span.el-radio__label {\r\n    /* color: #574e4e!important; */\r\n    /* font-size: 16px!important; */\r\n    font-weight: bold !important;\r\n}\r\n.form /deep/ .el-radio__input.is-checked + .el-radio__label {\r\n    color: rgb(55, 0, 255) !important;\r\n}\r\n</style>\r\n"]}]}