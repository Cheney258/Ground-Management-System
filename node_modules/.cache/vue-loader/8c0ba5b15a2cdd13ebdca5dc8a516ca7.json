{"remainingRequest":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\users\\Announcement.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\users\\Announcement.vue","mtime":1647271883841},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0Fubm91bmNlbWVudCcsDQoNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGl0bGU6JycsDQogICAgICBhbm5vdW5MaXN0OltdLA0KICAgICAgZGV0YWlsc1Nob3c6W10sDQogICAgICBpc1Nob3c6ZmFsc2UNCiAgICB9Ow0KICB9LA0KDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRBbm5vdW5jZW1lbnQoKQ0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICAvLyDojrflj5blhazlkYoNCiAgICBhc3luYyBnZXRBbm5vdW5jZW1lbnQoKXsNCiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndXNlci9nZXRBbm5vdW5jZW1lbnQnKQ0KICAgICAgaWYocmVzdWx0cy5jb2RlID09IDIwMCl7DQogICAgICAgIHRoaXMuYW5ub3VuTGlzdCA9IHJlc3VsdHMuZGF0YQ0KICAgICAgICB0aGlzLmFubm91bkxpc3QuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICBpdGVtLnRpbWUgPSB0aGlzLiRtb21lbnQoaXRlbS50aW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKQ0KICAgICAgICB9KTsNCiAgICAgIH1lbHNlew0KICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3Ioe3RpdGxlOifmlbDmja7ojrflj5blpLHotKUnfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOWFrOWRiuivpue7huafpeeciw0KICAgIGRldGFpbHMocm93KXsNCiAgICAgIHRoaXMuaXNTaG93ID0gdHJ1ZQ0KICAgICAgLy8gcm93LnRpbWUgPSB0aGlzLiRtZW1vbnQocm93LnRpbWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpDQogICAgICB0aGlzLmRldGFpbHNTaG93ID0gcm93DQogICAgICBjb25zb2xlLmxvZyhyb3cpDQogICAgICBjb25zb2xlLmxvZyh0aGlzLmRldGFpbHNTaG93KQ0KICAgIH0sDQogICAgLy8g5Yig6Zmk5YWs5ZGKDQogICAgYXN5bmMgZGVsZXRlcyhyb3cpew0KICAgICAgY29uc29sZS5sb2cocm93KQ0KICAgIH0NCiAgfSwNCn07DQo="},{"version":3,"sources":["Announcement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Announcement.vue","sourceRoot":"src/views/users","sourcesContent":["<template>\r\n  <div style=\"width:100%;\" >\r\n    \r\n    <el-card>\r\n      <div slot=\"header\">\r\n        <h1 style=\" text-align:center\">公告通知</h1>\r\n      </div>\r\n      <div style=\"margin-bottom:30px\">\r\n        <el-input v-model=\"title\" placeholder=\"请输入公告标题\" style=\"width:180px;margin-left:250px\"></el-input>\r\n        <el-button type=\"primary\" style=\"margin:0 50px\">搜索</el-button>\r\n      </div>\r\n      <hr>\r\n      <div>\r\n        <el-table :data=\"announList\" :default-sort = \"{prop: 'time', order: 'descending'}\">\r\n          <el-table-column type=\"index\" label=\"序号\" width=\"width\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"title\" label=\"公告标题\" width=\"width\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"department\" label=\"发布部门\" width=\"300\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"time\" label=\"发布时间\" sortable width=\"300\" align=\"center\"> \r\n          </el-table-column>\r\n          <el-table-column prop=\"prop\" label=\"操作\" width=\"300\" align=\"center\">\r\n            <template slot-scope=\"{row}\">\r\n              <el-button type=\"primary\" @click=\"details(row)\">查看</el-button>\r\n              <el-button type=\"danger\" @click=\"deletes(row)\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </el-card>\r\n\r\n    <el-dialog :visible.sync=\"isShow\" width=\"width\" >\r\n      <h2 style=\"text-align:center\">{{detailsShow.title}}</h2>\r\n      <div style=\"text-align:center;margin-top:50px\">\r\n        <span>{{detailsShow.content}}</span>\r\n      </div>\r\n      <div style=\"margin-top:50px;font-size:20px;color:#3399FF\">\r\n        <span style=\"margin-left:50px\">发布部门：&nbsp;&nbsp;{{detailsShow.department}}</span> \r\n        <span style=\"margin-left:250px\"> 发布日期：&nbsp;&nbsp; {{detailsShow.time}}</span>\r\n      </div>\r\n      \r\n      <div slot=\"footer\">\r\n        <el-button type=\"primary\" @click=\"isShow = false\">已 读</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'Announcement',\r\n\r\n  data() {\r\n    return {\r\n      title:'',\r\n      announList:[],\r\n      detailsShow:[],\r\n      isShow:false\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.getAnnouncement()\r\n  },\r\n\r\n  methods: {\r\n    // 获取公告\r\n    async getAnnouncement(){\r\n      const results = await this.$store.dispatch('user/getAnnouncement')\r\n      if(results.code == 200){\r\n        this.announList = results.data\r\n        this.announList.forEach(item => {\r\n          item.time = this.$moment(item.time).format('YYYY-MM-DD HH:mm:ss')\r\n        });\r\n      }else{\r\n        this.$notify.error({title:'数据获取失败'})\r\n      }\r\n    },\r\n    // 公告详细查看\r\n    details(row){\r\n      this.isShow = true\r\n      // row.time = this.$memont(row.time).format('YYYY-MM-DD HH:mm:ss')\r\n      this.detailsShow = row\r\n      console.log(row)\r\n      console.log(this.detailsShow)\r\n    },\r\n    // 删除公告\r\n    async deletes(row){\r\n      console.log(row)\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>"]}]}