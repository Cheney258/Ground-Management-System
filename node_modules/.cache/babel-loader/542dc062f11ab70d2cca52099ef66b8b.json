{"remainingRequest":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\users\\query\\apply\\game.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\users\\query\\apply\\game.vue","mtime":1647242016299},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\babel.config.js","mtime":1637306514000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzIyNDE5L0Rlc2t0b3AvXHU2ODIxXHU1NkVEXHU4RkQwXHU1MkE4XHU1NzNBXHU1NzMwXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkdhbWUiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICBteUFwcGx5OiBbXSwKICAgICAgc2hvd2xpc3Q6IHt9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0R2FtZUFwcGx5SW5mbygpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W55So5oi355Sz6K+35pWw5o2uCiAgICBnZXRHYW1lQXBwbHlJbmZvOiBmdW5jdGlvbiBnZXRHYW1lQXBwbHlJbmZvKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdWlkLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy4kc3RvcmUpCiAgICAgICAgICAgICAgICB1aWQgPSBfdGhpcy4kc3RvcmUuc3RhdGUudXNlci51aWQ7IC8vIGNvbnNvbGUubG9nKHVpZCkKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldEdhbWVBcHBseSIsIHVpZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KQogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlc3VsdC5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm15QXBwbHkgPSByZXN1bHQ7CgogICAgICAgICAgICAgICAgICBfdGhpcy5teUFwcGx5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBpdGVtLmdhbWV0aW1lID0gX3RoaXMuJG1vbWVudChpdGVtLmdhbWV0aW1lKS5mb3JtYXQoIllZWVktTU0tREQgSEg6bW06c3MiKTsKICAgICAgICAgICAgICAgICAgICBpdGVtLmFwcHRpbWUgPSBfdGhpcy4kbW9tZW50KGl0ZW0uYXBwdGltZSkuZm9ybWF0KCJZWVlZLU1NLUREIEhIOm1tOnNzIik7CgogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaXRlbS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIjAiOgogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9ICLlrqHmoLjkuK0iOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlICIxIjoKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPSAi6YCa6L+HIjsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAiMiI6CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzID0gIumps+WbniI7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIjMiOgogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9ICLlj5bmtojnlLPor7ciOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5bGV56S65oyH5a6a55Sz6K+355qE6K+m5oOFCiAgICBleGhpYml0aW9uOiBmdW5jdGlvbiBleGhpYml0aW9uKHJvdykgewogICAgICB0aGlzLnNob3dsaXN0ID0gcm93OwogICAgICB0aGlzLmlzU2hvdyA9IHRydWU7IC8vIGNvbnNvbGUubG9nKHJvdykKICAgIH0sCiAgICAvLyDlj5bmtojnlLPor7cKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJvdyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgiY2FuY2VsIiwgewogICAgICAgICAgICAgICAgICBnaWQ6IHJvdy5naWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPSAyMDApIHsKICAgICAgICAgICAgICAgICAgLy8g5Y+W5raI5oiQ5Yqf6YeN5paw6I635Y+W5pWw5o2uCiAgICAgICAgICAgICAgICAgIF90aGlzMi5nZXRHYW1lQXBwbHlJbmZvKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJG5vdGlmeS5zdWNjZXNzKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuWPlua2iOaIkOWKnyIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLlpLHotKUiLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLlj5bmtojlpLHotKUiCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACAA,cADA;AAGAC,MAHA,kBAGA;AACA;AACAC,mBADA;AAEAC,iBAFA;AAGAC;AAHA;AAKA,GATA;AAWAC,SAXA,qBAWA;AACA;AACA,GAbA;AAeAC;AACA;AACAC,oBAFA,8BAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACAC,mBAFA,GAEA,2BAFA,EAGA;;AAHA;AAAA,uBAIA,0CAJA;;AAAA;AAIAC,sBAJA;;AAKA;AACA;AACA;AACA,iBAFA,MAEA;AACA;;AACA;AACAC,wEACA,qBADA;AAGAA,sEACA,qBADA;;AAGA;AACA;AACAA;AACA;;AACA;AACAA;AACA;;AACA;AACAA;AACA;;AACA;AACAA;AACA;AAZA;AAcA,mBArBA;AAsBA;;AAhCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiCA,KAnCA;AAoCA;AACAC,cArCA,sBAqCAC,GArCA,EAqCA;AACA;AACA,yBAFA,CAGA;AACA,KAzCA;AA2CA;AACAC,UA5CA,kBA4CAD,GA5CA,EA4CA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAE;AADA;AAAA,uBAEA;AAAAC;AAAA,kBAFA;;AAAA;AAEAN,sBAFA;;AAGA;AACA;AACA;;AACA;AACAO,+BADA;AAEAC;AAFA;AAIA,iBAPA,MAOA;AACA;AACAD,+BADA;AAEAC;AAFA;AAIA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AA5DA;AAfA","names":["name","data","isShow","myApply","showlist","mounted","methods","getGameApplyInfo","uid","result","item","exhibition","row","cancel","console","gid","title","message"],"sourceRoot":"src/views/users/query/apply","sources":["game.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-table :data=\"myApply\" style=\"width: 100%; margin: 10px\">\r\n            <el-table-column\r\n                type=\"index\"\r\n                label=\"序号\"\r\n                width=\"80\"\r\n                align=\"center\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"gamename\"\r\n                label=\"活动名称\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"activityType\"\r\n                label=\"活动类型\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"gametime\"\r\n                label=\"活动时间\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"status\"\r\n                label=\"审批状态\"\r\n                width=\"width\"\r\n                align=\"center\"\r\n            >\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag type=\"info\" v-if=\"scope.row.status == '审核中'\"\r\n                        >审核中</el-tag\r\n                    >\r\n                    <el-tag type=\"success\" v-if=\"scope.row.status == '通过'\"\r\n                        >通过</el-tag\r\n                    >\r\n                    <el-tag type=\"danger\" v-if=\"scope.row.status == '驳回'\"\r\n                        >驳回</el-tag\r\n                    >\r\n                    <el-tag type=\"warning\" v-if=\"scope.row.status == '取消申请'\"\r\n                        >取消申请</el-tag\r\n                    >\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"prop\"\r\n                label=\"操作\"\r\n                width=\"width\">\r\n                <template slot-scope=\"{ row }\">\r\n                    <el-button @click=\"exhibition(row)\">详情</el-button>\r\n                    <el-button type=\"warning\" v-if=\"row.status == '审核中'\" @click=\"cancel(row)\">取消申请</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-dialog\r\n            title=\"详情页\"\r\n            :model=\"showlist\"\r\n            :visible.sync=\"isShow\"\r\n            class=\"dialog\"\r\n        >\r\n            <el-form label-position=\"rigth\" label-width=\"100px\" class=\"form\">\r\n                <el-form-item label=\"活动名称:\">\r\n                    <el-input\r\n                        v-model=\"showlist.gamename\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"活动类型:\">\r\n                    <el-input\r\n                        v-model=\"showlist.activityType\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <!-- <el-form-item label=\"活动ID:\" >\r\n                            <el-input v-model=\"showlist.contest_id\" readonly=\"readonly\" class=\"input\"></el-input>\r\n                        </el-form-item> -->\r\n                <!-- <el-form-item label=\"活动地点:\" >\r\n                            <el-input v-model=\"showlist.position\" readonly=\"readonly\" class=\"input\"></el-input>\r\n                        </el-form-item> -->\r\n                <el-form-item label=\"活动时间:\">\r\n                    <el-input\r\n                        v-model=\"showlist.gametime\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"活动描述:\">\r\n                    <el-input\r\n                        type=\"textarea\"\r\n                        v-model=\"showlist.description\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"申请时间:\">\r\n                    <el-input\r\n                        v-model=\"showlist.apptime\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item\r\n                    label=\"审批号:\"\r\n                    v-if=\"showlist.code\"\r\n                    style=\"width: 180px\"\r\n                >\r\n                    <el-input\r\n                        v-model=\"showlist.code\"\r\n                        readonly=\"readonly\"\r\n                        style=\"width: 180px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"申请状态\">\r\n                    <el-radio-group\r\n                        v-model=\"showlist.status\"\r\n                        size=\"medium\"\r\n                        disabled\r\n                    >\r\n                        <el-radio label=\"通过\" size=\"medium\"></el-radio>\r\n                        <el-radio label=\"审核中\" size=\"medium\"></el-radio>\r\n                        <el-radio label=\"驳回\" size=\"medium\"></el-radio>\r\n                        <el-radio label=\"取消申请\" size=\"medium\"></el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\">\r\n                <el-button type=\"primary\" @click=\"isShow = false\"\r\n                    >返 回</el-button\r\n                >\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Game\",\r\n\r\n    data() {\r\n        return {\r\n            isShow: false,\r\n            myApply: [],\r\n            showlist: {},\r\n        };\r\n    },\r\n\r\n    mounted() {\r\n        this.getGameApplyInfo();\r\n    },\r\n\r\n    methods: {\r\n        // 获取用户申请数据\r\n        async getGameApplyInfo() {\r\n            // console.log(this.$store)\r\n            const uid = this.$store.state.user.uid;\r\n            // console.log(uid)\r\n            let result = await this.$store.dispatch(\"getGameApply\", uid);\r\n            // console.log(result)\r\n            if (result.message) {\r\n                this.$message.error(result.message);\r\n            } else {\r\n                this.myApply = result;\r\n                this.myApply.forEach((item) => {\r\n                    item.gametime = this.$moment(item.gametime).format(\r\n                        \"YYYY-MM-DD HH:mm:ss\"\r\n                    );\r\n                    item.apptime = this.$moment(item.apptime).format(\r\n                        \"YYYY-MM-DD HH:mm:ss\"\r\n                    );\r\n                    switch (item.status) {\r\n                        case \"0\":\r\n                            item.status = \"审核中\";\r\n                            break;\r\n                        case \"1\":\r\n                            item.status = \"通过\";\r\n                            break;\r\n                        case \"2\":\r\n                            item.status = \"驳回\";\r\n                            break;\r\n                        case \"3\":\r\n                            item.status = \"取消申请\";\r\n                            break;\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        // 展示指定申请的详情\r\n        exhibition(row) {\r\n            this.showlist = row;\r\n            this.isShow = true;\r\n            // console.log(row)\r\n        },\r\n\r\n        // 取消申请\r\n        async cancel(row) {\r\n            console.log(row)\r\n            const result = await this.$store.dispatch(\"cancel\", {gid: row.gid});\r\n            if ((result.code = 200)) {\r\n                // 取消成功重新获取数据\r\n                this.getGameApplyInfo()\r\n                this.$notify.success({\r\n                    title: \"成功\",\r\n                    message: \"取消成功\",\r\n                });\r\n            } else {\r\n                this.$notify.error({\r\n                    title: \"失败\",\r\n                    message: \"取消失败\",\r\n                });\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.form {\r\n    width: 480px;\r\n    position: relative;\r\n    left: 50%;\r\n    margin-left: -225px;\r\n    top: 40%;\r\n}\r\n.el-radio {\r\n    color: #000000;\r\n    margin-right: 0px;\r\n}\r\n</style>\r\n"]}]}