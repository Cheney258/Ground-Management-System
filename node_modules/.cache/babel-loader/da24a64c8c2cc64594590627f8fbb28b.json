{"remainingRequest":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\admin\\users\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\admin\\users\\Users.vue","mtime":1647258793867},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\babel.config.js","mtime":1637306514000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzIyNDE5L0Rlc2t0b3AvXHU2ODIxXHU1NkVEXHU4RkQwXHU1MkE4XHU1NzNBXHU1NzMwXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdVc2VycycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzTGlzdDogW10sCiAgICAgIHVzZXJpbmZvOiB7CiAgICAgICAgcm9sZTogJycsCiAgICAgICAgc3RhdHVzOiAnJwogICAgICB9LAogICAgICBzZWFyY2g6ICcnLAogICAgICBpc1Nob3c6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QWxsVXNlcnMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluaJgOacieeahOeUqOaItwogICAgZ2V0QWxsVXNlcnM6IGZ1bmN0aW9uIGdldEFsbFVzZXJzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldEFsbFVzZXJzJyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnVzZXJzTGlzdCA9IHJlc3VsdHMuZGF0YTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6I635Y+W5pWw5o2u5aSx6LSlJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOe8lui+kQogICAgZWRpdDogZnVuY3Rpb24gZWRpdChyb3cpIHsKICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlOwogICAgICB0aGlzLnVzZXJpbmZvID0gcm93OwogICAgICB0aGlzLnVzZXJpbmZvLnJvbGUgPSByb3cucm9sZTsKICAgICAgdGhpcy51c2VyaW5mby5zdGF0dXMgPSByb3cuc3RhdHVzOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnVzZXJpbmZvKTsKICAgICAgY29uc29sZS5sb2cocm93KTsKICAgIH0sCiAgICBsb2dvZmY6IGZ1bmN0aW9uIGxvZ29mZihyb3cpIHt9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACAA,eADA;AAGAC,MAHA,kBAGA;AACA;AACAC,mBADA;AAEAC;AAAAC;AAAAC;AAAA,OAFA;AAGAC,gBAHA;AAIAC;AAJA;AAMA,GAVA;AAYAC,SAZA,qBAYA;AACA;AACA,GAdA;AAgBAC;AACA;AACAC,eAFA,yBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,oCADA;;AAAA;AACAC,uBADA;;AAEA;AACA;AACA,iBAFA,MAEA;AACA;AAAAC;AAAA;AACA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KATA;AAWA;AACAC,QAZA,gBAYAC,GAZA,EAYA;AACA;AACA;AACA;AACA;AACAC;AACAA;AACA,KAnBA;AAqBAC,UArBA,kBAqBAF,GArBA,EAqBA,CAEA;AAvBA;AAhBA","names":["name","data","usersList","userinfo","role","status","search","isShow","mounted","methods","getAllUsers","results","title","edit","row","console","logoff"],"sourceRoot":"src/views/admin/users","sources":["Users.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"header\">\r\n      <el-input v-model=\"search\" placeholder=\"请输入关键字\" style=\"width:200px;margin:30px 100px 20px\"></el-input>\r\n      <el-button type=\"primary\">搜索</el-button>\r\n    </div>\r\n    <hr>\r\n    <div class=\"container\">\r\n      <el-table :data=\"usersList\" style=\"width: 100%\" align=\"center\">\r\n        <el-table-column prop=\"name\" label=\"用户ID\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"username\" label=\"用户名\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"xuehao\" label=\"学号\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"sex\" label=\"性别\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"email\" label=\"邮箱\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"phone\" label=\"联系电话\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"role\" label=\"用户角色\" width=\"width\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n          <el-tag type=\"info\" v-if=\"scope.row.role == 1\" >用户</el-tag>\r\n          <el-tag type=\"danger\" v-if=\"scope.row.role == 2\" >管理员</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"status\" label=\"账号状态\" width=\"width\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag type=\"success\" v-if=\"scope.row.status == 1\" >正常</el-tag>\r\n            <el-tag type=\"warning\" v-if=\"scope.row.status == 2\">失信</el-tag>\r\n            <el-tag type=\"danger\" v-if=\"scope.row.status == 3\">注销</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"prop\" label=\"操作\" width=\"250\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"warning\" icon=\"el-icon-edit\" size=\"mini\" @click=\"edit(scope.row)\">修 改</el-button>\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"logoff(scope.row)\">注 销</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n\r\n    <!-- 修改 -->\r\n    <el-dialog title=\"用户信息更新\" :visible.sync=\"isShow\" width=\"width\">\r\n      <div style=\"width:350px; margin:0px auto\">\r\n        <el-form ref=\"form\" :model=\"userinfo\" label-width=\"100px\" >\r\n          <el-form-item label=\"用户ID：\">\r\n          <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.name}} </span>\r\n          </el-form-item>\r\n          <el-form-item label=\"用户姓名：\">\r\n            <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.username}} </span>\r\n          </el-form-item>\r\n          <el-form-item label=\"学  号：\">\r\n            <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.xuehao}} </span>\r\n            \r\n          </el-form-item>\r\n          <el-form-item label=\"性  别：\">\r\n            <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.sex}} </span>\r\n            \r\n          </el-form-item>\r\n          <el-form-item label=\"邮  箱：\">\r\n            <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.email}} </span>\r\n          \r\n          </el-form-item>\r\n          <el-form-item label=\"联系电话：\">\r\n            <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.phone}} </span>\r\n            \r\n          </el-form-item>\r\n          <el-form-item label=\"用户角色：\">\r\n            <el-radio-group v-model=\"userinfo.role\">\r\n              <el-radio :label=\"1\">用户</el-radio>\r\n              <el-radio :label=\"2\">管理员</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"账号状态：\">\r\n            <el-radio-group v-model=\"userinfo.status\">\r\n              <el-radio :label=\"1\">正常</el-radio>\r\n              <el-radio :label=\"2\">异常</el-radio>\r\n              <el-radio :label=\"3\">已注销</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div slot=\"footer\" style=\"text-align:center\">\r\n        <el-button style=\"margin:0px 25px\" @click=\"isShow = false\">取 消</el-button>\r\n        <el-button style=\"margin:0px 25px\" type=\"primary\" @click=\"isShow = false\" @click=\"submit\">提交修改</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Users',\r\n\r\n  data() {\r\n    return {\r\n      usersList:[],\r\n      userinfo:{role:'',status:''},\r\n      search:'',\r\n      isShow:false\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getAllUsers()\r\n  },\r\n\r\n  methods: {\r\n    // 获取所有的用户\r\n    async getAllUsers(){\r\n      const results = await this.$store.dispatch('getAllUsers')\r\n      if(results.code == 200 ){\r\n        this.usersList = results.data\r\n      }else{\r\n        this.$notify.error({title:'获取数据失败'})\r\n      }\r\n    },\r\n\r\n    // 编辑\r\n    edit(row){\r\n      this.isShow = true\r\n      this.userinfo = row\r\n      this.userinfo.role = row.role\r\n      this.userinfo.status = row.status\r\n      console.log(this.userinfo)\r\n      console.log(row)\r\n    },\r\n\r\n    logoff(row){\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.input{\r\n  width: 180px;\r\n}\r\n</style>\r\n"]}]}