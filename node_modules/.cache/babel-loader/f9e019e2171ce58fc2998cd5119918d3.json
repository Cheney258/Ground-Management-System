{"remainingRequest":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\admin\\Announcement.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\admin\\Announcement.vue","mtime":1648366611514},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\babel.config.js","mtime":1637306514000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvMjI0MTkvRGVza3RvcC9cdTY4MjFcdTU2RURcdThGRDBcdTUyQThcdTU3M0FcdTU3MzBcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzIyNDE5L0Rlc2t0b3AvXHU2ODIxXHU1NkVEXHU4RkQwXHU1MkE4XHU1NzNBXHU1NzMwXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQW5ub3VuY2VtZW50JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIG9ubHlSZWFkOiB0aGlzLmRpc2FibGVkKCksCiAgICAgIHNob3dMaXN0OiBbXSwKICAgICAgdGl0bGU6ICcnLAogICAgICBjb250ZW50OiAnJywKICAgICAgYW5ub3VuTGlzdDogW10sCiAgICAgIGRldGFpbHNTaG93OiB7CiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIHRpbWU6ICcnLAogICAgICAgIGRlcGFydG1lbnQ6ICcnCiAgICAgIH0sCiAgICAgIGVkaXRvck9wdGlvbjogewogICAgICAgIHBsYWNlaG9sZGVyOiAi6K+35Zyo6L+Z6YeM6L6T5YWlIiwKICAgICAgICBtb2R1bGVzOiB7CiAgICAgICAgICB0b29sYmFyOiBbWydib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAnc3RyaWtlJ10sIC8v5Yqg57KX77yM5pac5L2T77yM5LiL5YiS57q/77yM5Yig6Zmk57q/CiAgICAgICAgICBbJ2Jsb2NrcXVvdGUnLCAnY29kZS1ibG9jayddLCAvL+W8leeUqO+8jOS7o+eggeWdlwogICAgICAgICAgW3sKICAgICAgICAgICAgJ2hlYWRlcic6IDEKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgJ2hlYWRlcic6IDIKICAgICAgICAgIH1dLCAvLyDmoIfpopjvvIzplK7lgLzlr7nnmoTlvaLlvI/vvJsx44CBMuihqOekuuWtl+S9k+Wkp+WwjwogICAgICAgICAgW3sKICAgICAgICAgICAgJ2xpc3QnOiAnb3JkZXJlZCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgJ2xpc3QnOiAnYnVsbGV0JwogICAgICAgICAgfV0sIC8v5YiX6KGoCiAgICAgICAgICBbewogICAgICAgICAgICAnc2NyaXB0JzogJ3N1YicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgJ3NjcmlwdCc6ICdzdXBlcicKICAgICAgICAgIH1dLCAvLyDkuIrkuIvmoIcKICAgICAgICAgIFt7CiAgICAgICAgICAgICdpbmRlbnQnOiAnLTEnCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgICdpbmRlbnQnOiAnKzEnCiAgICAgICAgICB9XSwgLy8g57yp6L+bCiAgICAgICAgICBbewogICAgICAgICAgICAnZGlyZWN0aW9uJzogJ3J0bCcKICAgICAgICAgIH1dLCAvLyDmlofmnKzmlrnlkJEKICAgICAgICAgIFt7CiAgICAgICAgICAgICdzaXplJzogWydzbWFsbCcsIGZhbHNlLCAnbGFyZ2UnLCAnaHVnZSddCiAgICAgICAgICB9XSwgLy8g5a2X5L2T5aSn5bCPCiAgICAgICAgICBbewogICAgICAgICAgICAnaGVhZGVyJzogWzEsIDIsIDMsIDQsIDUsIDYsIGZhbHNlXQogICAgICAgICAgfV0sIC8v5Yeg57qn5qCH6aKYCiAgICAgICAgICBbewogICAgICAgICAgICAnY29sb3InOiBbXQogICAgICAgICAgfSwgewogICAgICAgICAgICAnYmFja2dyb3VuZCc6IFtdCiAgICAgICAgICB9XSwgLy8g5a2X5L2T6aKc6Imy77yM5a2X5L2T6IOM5pmv6aKc6ImyCiAgICAgICAgICBbewogICAgICAgICAgICAnZm9udCc6IFtdCiAgICAgICAgICB9XSwgLy/lrZfkvZMKICAgICAgICAgIFt7CiAgICAgICAgICAgICdhbGlnbic6IFtdCiAgICAgICAgICB9XSwgLy/lr7npvZDmlrnlvI8KICAgICAgICAgIFsnY2xlYW4nXSwgLy/muIXpmaTlrZfkvZPmoLflvI8KICAgICAgICAgIFsnaW1hZ2UnLCAndmlkZW8nXSAvL+S4iuS8oOWbvueJh+OAgeS4iuS8oOinhumikQogICAgICAgICAgXQogICAgICAgIH0KICAgICAgfSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIGxpbWl0OiA1LAogICAgICB0b3RhbDogMAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEFsbEFubm91bmNlbWVudCgpOwogICAgdGhpcy5kaXNhYmxlZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5YWs5ZGKCiAgICBnZXRBbGxBbm5vdW5jZW1lbnQ6IGZ1bmN0aW9uIGdldEFsbEFubm91bmNlbWVudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRBbGxBbm5vdW5jZW1lbnQnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0cyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0cy5kYXRhKQogICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuYW5ub3VuTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICBfdGhpcy5hbm5vdW5MaXN0ID0gcmVzdWx0cy5kYXRhLnNsaWNlKChfdGhpcy5jdXJyZW50UGFnZSAtIDEpICogX3RoaXMubGltaXQsIF90aGlzLmxpbWl0ICogX3RoaXMuY3VycmVudFBhZ2UpOwogICAgICAgICAgICAgICAgICBfdGhpcy50b3RhbCA9IHJlc3VsdHMuZGF0YS5sZW5ndGg7CgogICAgICAgICAgICAgICAgICBfdGhpcy5hbm5vdW5MaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBpdGVtLnRpbWUgPSBfdGhpcy4kbW9tZW50KGl0ZW0udGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmlbDmja7ojrflj5blpLHotKUnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5bGV56S65YWs5ZGK6K+m5oOFCiAgICBkZXRhaWxzOiBmdW5jdGlvbiBkZXRhaWxzKHJvdykgewogICAgICB0aGlzLnNob3cgPSB0cnVlOyAvLyB0aGlzLiRyZWZzLmZyb20uZGlzYWJsZWQgPSB0aGlzLmRpc2FibGVkCiAgICAgIC8vIHJvdy50aW1lID0gdGhpcy4kbWVtb250KHJvdy50aW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKQoKICAgICAgdGhpcy5kZXRhaWxzU2hvdyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5kZXRhaWxzU2hvdyksIHJvdyk7CiAgICAgIHRoaXMub25seVJlYWQgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLm15UXVpbGxFZGl0b3IucXVpbGwuZW5hYmxlKGZhbHNlKTsgLy8gY29uc29sZS5sb2cocm93KQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmRldGFpbHNTaG93KQogICAgfSwKICAgIC8vIOWIoOmZpOWFrOWRigogICAgZGVsZXRlczogZnVuY3Rpb24gZGVsZXRlcyhyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgnZGVsZXRlQW5ub3VuJywgcm93LmFpZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLliKDpmaTmiJDlip8iCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmdldEFubm91bmNlbWVudCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Yig6Zmk5aSx6LSlJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5pi+56S657yW6L6R6aG16Z2iCiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkgewogICAgICB0aGlzLmRldGFpbHNTaG93ID0ge307CiAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICAgIHRoaXMub25seVJlYWQgPSBmYWxzZTsKICAgICAgdGhpcy4kcmVmcy5teVF1aWxsRWRpdG9yLnF1aWxsLmVuYWJsZSh0cnVlKTsKICAgIH0sCiAgICAvLyDmj5DkuqTliLDmnI3liqHlmagKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOaPkOS6pOWFrOWRij8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgY2VudGVyOiB0cnVlCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5kZXRhaWxzU2hvdy50aW1lID0gX3RoaXMzLiRtb21lbnQoX3RoaXMzLmRldGFpbHNTaG93LnRpbWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goJ2FkZEFubm91bmNlbWVudCcsIF90aGlzMy5kZXRhaWxzU2hvdyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLlhazlkYrmt7vliqDmiJDlip8iCiAgICAgICAgICAgICAgICAgIH0pOyAvLyDliLfmlrDmlbDmja4KCgogICAgICAgICAgICAgICAgICBfdGhpczMuZ2V0QWxsQW5ub3VuY2VtZW50KCk7CgogICAgICAgICAgICAgICAgICBfdGhpczMuc2hvdyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBfdGhpczMub25seVJlYWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyZWZzLm15UXVpbGxFZGl0b3IucXVpbGwuZW5hYmxlKGZhbHNlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+WFrOWRiua3u+WKoOWksei0pScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmj5DkuqTkv53lrZjnmoTkv67mlLkKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzNC5kZXRhaWxzU2hvdy5zdGF0dXMgPT0gMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczQuJG1lc3NhZ2Uud2FybmluZygi6K+l5p2h5YWs5ZGK5bey5Y+R5biD77yM5LiN6IO95L+u5pS577yBIik7CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJHN0b3JlLmRpc3BhdGNoKCd1cGRhdGVBbm5vdW5jZW1lbnQnLCBfdGhpczQuZGV0YWlsc1Nob3cpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5nZXRBbGxBbm5vdW5jZW1lbnQ7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5zaG93ID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczQuJG5vdGlmeS5zdWNjZXNzKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S/ruaUueaIkOWKnycKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczQub25seVJlYWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LiRyZWZzLm15UXVpbGxFZGl0b3IucXVpbGwuZW5hYmxlKGZhbHNlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S/ruaUueWksei0pScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWPkeW4g+aIluaSpOmUgOWFrOWRigogICAgdXBsb2FkT3JVbmRvOiBmdW5jdGlvbiB1cGxvYWRPclVuZG8ocm93LCB0eXBlKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIHBhcmFtcywgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7fTsKICAgICAgICAgICAgICAgIHR5cGUgPT0gJ3VwbG9hZCcgPyBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgICAgICAgICAgYWlkOiByb3cuYWlkCiAgICAgICAgICAgICAgICB9IDogcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBzdGF0dXM6IDIsCiAgICAgICAgICAgICAgICAgIGFpZDogcm93LmFpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcmFtcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRzdG9yZS5kaXNwYXRjaCgndXBsb2FkT3JVbmRvQW5ub3VuY2UnLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0eXBlID09ICd1cGxvYWQnID8gJ+WPkeW4g+aIkOWKnycgOiAn5pKk6ZSA5oiQ5YqfJwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5nZXRBbGxBbm5vdW5jZW1lbnQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogdHlwZSA9PSAndXBsb2FkJyA/ICflj5HluIPlpLHotKUnIDogJ+aSpOmUgOWksei0pScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWPlua2iOS/ruaUuQogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgICB0aGlzLm9ubHlSZWFkID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5teVF1aWxsRWRpdG9yLnF1aWxsLmVuYWJsZShmYWxzZSk7CiAgICB9LAogICAgZGlzYWJsZWQ6IGZ1bmN0aW9uIGRpc2FibGVkKCkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICAvLyDkuI3lj6/nvJbovpEKICAgIG9uRWRpdG9yRm9jdXM6IGZ1bmN0aW9uIG9uRWRpdG9yRm9jdXMocXVpbGwpIHsKICAgICAgaWYgKHRoaXMub25seVJlYWQpIHsKICAgICAgICB0aGlzLiRyZWZzLm15UXVpbGxFZGl0b3IucXVpbGwuZW5hYmxlKGZhbHNlKTsgLy8gY29uc29sZS5sb2codGhpcy5vbmx5UmVhZCkKICAgICAgfQogICAgfSwKICAgIC8vIOWPr+e8lui+kQogICAgZWRpdDogZnVuY3Rpb24gZWRpdCgpIHsKICAgICAgdGhpcy5vbmx5UmVhZCA9IGZhbHNlOyAvLyBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLm15UXVpbGxFZGl0b3IucXVpbGwpCgogICAgICB0aGlzLiRyZWZzLm15UXVpbGxFZGl0b3IucXVpbGwuZW5hYmxlKHRydWUpOwogICAgfSwKICAgIC8vIC8v5aSx5Y6754Sm54K55LqL5Lu2CiAgICAvLyBvbkVkaXRvckJsdXIocXVpbGwpIHsKICAgIC8vICAgY29uc29sZS5sb2coJ2VkaXRvciBibHVyIScsIHF1aWxsKQogICAgLy8gfSwKICAgIC8v6I635b6X54Sm54K55LqL5Lu2CiAgICAvLyAvLyDlh4blpIflr4zmlofmnKznvJbovpHlmagKICAgIC8vIG9uRWRpdG9yUmVhZHkocXVpbGwpIHsKICAgIC8vICAgY29uc29sZS5sb2coJ2VkaXRvciByZWFkeSEnLCBxdWlsbCkKICAgIC8vIH0sCiAgICAvLyAvL+WGheWuueaUueWPmOS6i+S7tgogICAgLy8gb25FZGl0b3JDaGFuZ2UoeyBxdWlsbCwgaHRtbCwgdGV4dCB9KSB7CiAgICAvLyAgIGNvbnNvbGUubG9nKCdlZGl0b3IgY2hhbmdlIScsIHF1aWxsLCBodG1sLCB0ZXh0KQogICAgLy8gICB0aGlzLmNvbnRlbnQgPSBodG1sCiAgICAvLyB9LAogICAgLy8g5YiG6aG15ZmoCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgICB0aGlzLmdldEFsbEFubm91bmNlbWVudCgpOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMubGltaXQgPSB2YWw7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLmdldEFsbEFubm91bmNlbWVudCgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"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","names":["name","data","show","onlyRead","showList","title","content","announList","detailsShow","time","department","editorOption","placeholder","modules","toolbar","currentPage","limit","total","mounted","methods","getAllAnnouncement","results","item","details","row","deletes","result","open","add","confirmButtonText","cancelButtonText","type","center","then","catch","message","update","uploadOrUndo","params","status","aid","console","cancel","disabled","onEditorFocus","quill","edit","handleCurrentChange","val","handleSizeChange"],"sourceRoot":"src/views/admin","sources":["Announcement.vue"],"sourcesContent":["<template>\r\n  <div style=\"width:100%;\" >\r\n    <el-card>\r\n      <div slot=\"header\">\r\n        <h1 style=\" text-align:center\">公告管理</h1>\r\n      </div>\r\n      <!-- 新增公告 -->\r\n      <div>\r\n        <el-button type=\"primary\" style=\"margin-left:100px\" @click=\"open\">新&ensp;增+</el-button>\r\n\r\n        <el-dialog :title=\"detailsShow.content == ''?'添加公告':'修改公告'\" :visible.sync=\"show\" width=\"width\" style=\"margin-top: -10vh;\">\r\n          <div>\r\n            <el-form ref=\"form\" :model=\"detailsShow\" label-width=\"80px\" :disabled=\"onlyRead\">\r\n              <el-form-item label=\"标题：\">\r\n                <el-input v-model=\"detailsShow.title\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"发布部门\">\r\n                <el-input v-model=\"detailsShow.department\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"发布时间\">\r\n                <el-date-picker\r\n                  v-model=\"detailsShow.time\"\r\n                  type=\"datetime\"\r\n                  placeholder=\"选择日期时间\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n              <el-form-item label=\"内容：\">\r\n                  <!-- @blur=\"onEditorBlur($event)\"\r\n                  \r\n                  @ready=\"onEditorReady($event)\" -->\r\n                <quill-editor\r\n                class=\"editor\"\r\n                  ref=\"myQuillEditor\"\r\n                  v-model=\"detailsShow.content\"\r\n                  :options=\"editorOption\"\r\n                  @focus=\"onEditorFocus($event)\"\r\n                /> \r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n          <div slot=\"footer\">\r\n            <el-button type=\"primary\" v-if=\"detailsShow.content == ''\" @click=\"add\">添 加</el-button>\r\n            <el-button type=\"warning\" v-if=\"onlyRead == true && detailsShow.content != ''\" @click=\"edit\">修 改</el-button>\r\n            <el-button type=\"primary\" v-if=\"onlyRead == false && detailsShow.content != ''\" @click=\"update\">保存</el-button>\r\n            <el-button @click=\"cancel\">取 消</el-button>\r\n          </div>\r\n        </el-dialog>\r\n      </div>\r\n      <hr>\r\n      <div>\r\n        <el-table :data=\"announList\" :default-sort = \"{prop: 'time', order: 'descending'}\">\r\n          <el-table-column type=\"index\" label=\"序号\" width=\"width\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"title\" label=\"公告标题\" width=\"width\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"department\" label=\"发布部门\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"department\" label=\"发布状态\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag type=\"info\" v-if=\"scope.row.status == 0 \">未发布</el-tag>\r\n              <el-tag type=\"success\" v-if=\"scope.row.status == 1 \">已发布</el-tag>\r\n              <el-tag type=\"danger\" v-if=\"scope.row.status == 2 \">撤销</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"time\" label=\"发布时间\" sortable align=\"center\"> \r\n          </el-table-column>\r\n          <el-table-column prop=\"prop\" label=\"操作\" width=\"500\" align=\"center\">\r\n            <template slot-scope=\"{row}\">\r\n              <el-button type=\"primary\" @click=\"details(row)\">查看</el-button>\r\n              <el-button type=\"success\" v-if=\"row.status == 0 || row.status == 2\" @click=\"uploadOrUndo(row,'upload')\">发布</el-button>\r\n              <el-button type=\"warning\" v-if=\"row.status == 1\" @click=\"uploadOrUndo(row,'undo')\">撤销</el-button>\r\n              <el-button type=\"danger\" @click=\"deletes(row)\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      <pagination \r\n        :currentPage=\"currentPage\" \r\n        :total=\"total\" \r\n        :limit=\"limit\" \r\n        :small=\"true\"\r\n        @handleCurrentChange=\"handleCurrentChange\" \r\n        @handleSizeChange=\"handleSizeChange\"/>\r\n    </el-card>\r\n\r\n\r\n\r\n    <!-- <el-dialog :visible.sync=\"isShow\" width=\"width\" >\r\n      <h2 style=\"text-align:center\">{{detailsShow.title}}</h2>\r\n      <div style=\"margin-top:50px\">\r\n        <textarea name=\"\" id=\"\" style=\"margin:0px 30px\"  cols=\"30\" rows=\"10\"></textarea>\r\n        <span v-html=\"detailsShow.content\">{{detailsShow.content}}</span>\r\n      </div>\r\n      <div style=\"margin-top:50px;font-size:16px;\">\r\n        <span style=\"margin-left:30px\">发布部门：&nbsp;&nbsp;<span style=\"color:#3399FF\">{{detailsShow.department}}</span></span> \r\n        <span style=\"margin-left:200px\"> 发布日期：&nbsp;&nbsp;<span style=\"color:#3399FF\">{{detailsShow.time}}</span></span>\r\n      </div>\r\n      \r\n      <div slot=\"footer\">\r\n        \r\n        <el-button type=\"primary\" @click=\"isShow = false\">返 回</el-button>\r\n      </div>\r\n    </el-dialog> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'Announcement',\r\n\r\n  data() {\r\n    return {\r\n      show:false,\r\n      onlyRead:this.disabled(),\r\n      showList:[],\r\n      title:'',\r\n      content:'',\r\n      announList:[],\r\n      detailsShow:{\r\n        title:'',\r\n        content:'',\r\n        time:'',\r\n        department:''\r\n      },\r\n      editorOption: {\r\n              placeholder: \"请在这里输入\",\r\n              modules:{\r\n                toolbar:[\r\n                          ['bold', 'italic', 'underline', 'strike'],    //加粗，斜体，下划线，删除线\r\n                          ['blockquote', 'code-block'],     //引用，代码块\r\n                          [{ 'header': 1 }, { 'header': 2 }],        // 标题，键值对的形式；1、2表示字体大小\r\n                          [{ 'list': 'ordered'}, { 'list': 'bullet' }],     //列表\r\n                          [{ 'script': 'sub'}, { 'script': 'super' }],   // 上下标\r\n                          [{ 'indent': '-1'}, { 'indent': '+1' }],     // 缩进\r\n                          [{ 'direction': 'rtl' }],             // 文本方向\r\n                          [{ 'size': ['small', false, 'large', 'huge'] }], // 字体大小\r\n                          [{ 'header': [1, 2, 3, 4, 5, 6, false] }],     //几级标题\r\n                          [{ 'color': [] }, { 'background': [] }],     // 字体颜色，字体背景颜色\r\n                          [{ 'font': [] }],     //字体\r\n                          [{ 'align': [] }],    //对齐方式\r\n                          ['clean'],    //清除字体样式\r\n                          ['image','video']    //上传图片、上传视频\r\n                          ]\r\n                      }\r\n      },\r\n      currentPage: 1,\r\n      limit: 5,\r\n      total: 0\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.getAllAnnouncement()\r\n    this.disabled()\r\n  },\r\n\r\n  methods: {\r\n    // 获取公告\r\n    async getAllAnnouncement(){\r\n      const results = await this.$store.dispatch('getAllAnnouncement')\r\n      // console.log(results.data)\r\n      if(results.code == 200){\r\n        this.announList = []\r\n        this.announList = results.data.slice((this.currentPage-1)*this.limit,this.limit*this.currentPage);\r\n        this.total = results.data.length\r\n        this.announList.forEach(item => {\r\n          item.time = this.$moment(item.time).format('YYYY-MM-DD HH:mm:ss')\r\n        });\r\n      }else{\r\n        this.$notify.error({title:'数据获取失败'})\r\n      }\r\n    },\r\n    // 展示公告详情\r\n    details(row){\r\n      this.show = true\r\n      // this.$refs.from.disabled = this.disabled\r\n      // row.time = this.$memont(row.time).format('YYYY-MM-DD HH:mm:ss')\r\n      this.detailsShow = {...this.detailsShow,...row}\r\n      this.onlyRead = true\r\n      this.$refs.myQuillEditor.quill.enable(false)\r\n      // console.log(row)\r\n      // console.log(this.detailsShow)\r\n    },\r\n    // 删除公告\r\n    async deletes(row){\r\n      const result = await this.$store.dispatch('deleteAnnoun',row.aid)\r\n      if(result.code == 200){\r\n        this.$notify.success({title:\"删除成功\"})\r\n        this.getAnnouncement()\r\n      }else{\r\n        this.$notify.error({title:'删除失败'})\r\n      }\r\n    },\r\n    // 显示编辑页面\r\n    open(){\r\n      this.detailsShow = {}\r\n      this.show = true \r\n      this.onlyRead = false\r\n      this.$refs.myQuillEditor.quill.enable(true)\r\n    },\r\n    // 提交到服务器\r\n    add(){\r\n      this.$confirm('确认提交公告?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning',\r\n          center: true\r\n        }).then(async () =>{\r\n          this.detailsShow.time = this.$moment(this.detailsShow.time).format('YYYY-MM-DD HH:mm:ss')\r\n          let result = await this.$store.dispatch('addAnnouncement',this.detailsShow)\r\n          if(result.code == 200){\r\n            this.$notify.success({title:\"公告添加成功\"})\r\n            // 刷新数据\r\n            this.getAllAnnouncement()\r\n            this.show = false\r\n            this.onlyRead = true\r\n            this.$refs.myQuillEditor.quill.enable(false)\r\n          }else{\r\n            this.$notify.error({title:'公告添加失败'})\r\n          }\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          });\r\n        })\r\n      \r\n    },\r\n    // 提交保存的修改\r\n    async update(){\r\n      if(this.detailsShow.status == 1){\r\n        this.$message.warning(\"该条公告已发布，不能修改！\")\r\n      }else{\r\n        const result = await this.$store.dispatch('updateAnnouncement',this.detailsShow)\r\n        if(result.code == 200){\r\n          this.getAllAnnouncement\r\n          this.show = false\r\n          this.$notify.success({title:'修改成功'})\r\n          this.onlyRead = true\r\n          this.$refs.myQuillEditor.quill.enable(false)\r\n        }else{\r\n          this.$notify.error({title:'修改失败'})\r\n        }\r\n      }\r\n    },\r\n    // 发布或撤销公告\r\n    async uploadOrUndo(row,type){\r\n      let params = {}\r\n      type == 'upload' ? params = {\r\n          status:1,\r\n          aid:row.aid\r\n        } : params = {\r\n          status:2,\r\n          aid:row.aid\r\n        }\r\n      \r\n      console.log(params)\r\n      let result = await this.$store.dispatch('uploadOrUndoAnnounce',params)\r\n      if(result.code == 200){\r\n        this.$notify.success({title:type == 'upload'?'发布成功':'撤销成功'})\r\n        this.getAllAnnouncement()\r\n      }else{\r\n        this.$notify.error({title:type =='upload'?'发布失败':'撤销失败'})\r\n      }\r\n\r\n    },\r\n    // 取消修改\r\n    cancel(){\r\n      this.show = false\r\n      this.onlyRead = true\r\n      this.$refs.myQuillEditor.quill.enable(false)\r\n    },\r\n    disabled(){\r\n      return true\r\n    },\r\n    // 不可编辑\r\n    onEditorFocus(quill) {\r\n      if(this.onlyRead){\r\n        this.$refs.myQuillEditor.quill.enable(false);\r\n        // console.log(this.onlyRead)\r\n      }\r\n    },\r\n    // 可编辑\r\n    edit(){\r\n      this.onlyRead = false\r\n      // console.log(this.$refs.myQuillEditor.quill)\r\n      this.$refs.myQuillEditor.quill.enable(true);\r\n    },\r\n    // //失去焦点事件\r\n    // onEditorBlur(quill) {\r\n    //   console.log('editor blur!', quill)\r\n    // },\r\n    //获得焦点事件\r\n    // // 准备富文本编辑器\r\n    // onEditorReady(quill) {\r\n    //   console.log('editor ready!', quill)\r\n    // },\r\n    // //内容改变事件\r\n    // onEditorChange({ quill, html, text }) {\r\n    //   console.log('editor change!', quill, html, text)\r\n    //   this.content = html\r\n    // },\r\n    // 分页器\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n            this.getAllAnnouncement();\r\n        },\r\n        handleSizeChange(val) {\r\n            this.limit = val\r\n            this.currentPage = 1;\r\n            this.getAllAnnouncement();\r\n        }\r\n  },\r\n  \r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-dialog__body {\r\n  padding: 0px 20px !important;\r\n}\r\n</style>\r\n\r\n\r\n<style lang=\"scss\">\r\n.editor {\r\n  line-height: normal !important;\r\n  height: 250px;\r\n  margin-bottom:30px ;\r\n}\r\n.ql-snow .ql-tooltip[data-mode=\"link\"]::before {\r\n  content: \"请输入链接地址:\";\r\n}\r\n.ql-snow .ql-tooltip.ql-editing a.ql-action::after {\r\n  border-right: 0px;\r\n  content: \"保存\";\r\n  padding-right: 0px;\r\n}\r\n\r\n.ql-snow .ql-tooltip[data-mode=\"video\"]::before {\r\n  content: \"请输入视频地址:\";\r\n}\r\n\r\n.ql-snow .ql-picker.ql-size .ql-picker-label::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item::before {\r\n  content: \"14px\";\r\n}\r\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"small\"]::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"small\"]::before {\r\n  content: \"10px\";\r\n}\r\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"large\"]::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"large\"]::before {\r\n  content: \"18px\";\r\n}\r\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"huge\"]::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"huge\"]::before {\r\n  content: \"32px\";\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-label::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item::before {\r\n  content: \"文本\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\r\n  content: \"标题1\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\r\n  content: \"标题2\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\r\n  content: \"标题3\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\r\n  content: \"标题4\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\r\n  content: \"标题5\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\r\n  content: \"标题6\";\r\n}\r\n\r\n.ql-snow .ql-picker.ql-font .ql-picker-label::before,\r\n.ql-snow .ql-picker.ql-font .ql-picker-item::before {\r\n  content: \"标准字体\";\r\n}\r\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=\"serif\"]::before,\r\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=\"serif\"]::before {\r\n  content: \"衬线字体\";\r\n}\r\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=\"monospace\"]::before,\r\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=\"monospace\"]::before {\r\n  content: \"等宽字体\";\r\n}\r\n</style>"]}]}