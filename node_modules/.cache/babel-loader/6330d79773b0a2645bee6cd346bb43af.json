{"remainingRequest":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\admin\\users\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\src\\views\\admin\\users\\Users.vue","mtime":1649066569914},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\babel.config.js","mtime":1637306514000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\22419\\Desktop\\校园运动场地管理系统\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzIyNDE5L0Rlc2t0b3AvXHU2ODIxXHU1NkVEXHU4RkQwXHU1MkE4XHU1NzNBXHU1NzMwXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VzZXJzJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcnNMaXN0OiBbXSwKICAgICAgZmxhZzogdHJ1ZSwKICAgICAgdXNlcmluZm86IHsKICAgICAgICByb2xlOiAnJywKICAgICAgICBzdGF0dXM6ICcnCiAgICAgIH0sCiAgICAgIHNlYXJjaDogJycsCiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIGRhdGE6IFtdLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgbGltaXQ6IDUsCiAgICAgIHRvdGFsOiAwLAogICAgICBwYWdlU2l6ZXM6IFs1LCAxMCwgMTUsIDIwXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEFsbFVzZXJzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bmiYDmnInnmoTnlKjmiLcKICAgIGdldEFsbFVzZXJzOiBmdW5jdGlvbiBnZXRBbGxVc2VycygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRBbGxVc2VycycpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHRzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0cy5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5kYXRhID0gcmVzdWx0cy5kYXRhOwogICAgICAgICAgICAgICAgICBfdGhpcy51c2Vyc0xpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgX3RoaXMudXNlcnNMaXN0ID0gcmVzdWx0cy5kYXRhLnNsaWNlKChfdGhpcy5jdXJyZW50UGFnZSAtIDEpICogX3RoaXMubGltaXQsIF90aGlzLmxpbWl0ICogX3RoaXMuY3VycmVudFBhZ2UpOwogICAgICAgICAgICAgICAgICBfdGhpcy50b3RhbCA9IHJlc3VsdHMuZGF0YS5sZW5ndGg7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+iOt+WPluaVsOaNruWksei0pScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDnvJbovpEKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQocm93KSB7CiAgICAgIHRoaXMuaXNTaG93ID0gdHJ1ZTsKICAgICAgdGhpcy51c2VyaW5mbyA9IHJvdzsKICAgICAgdGhpcy51c2VyaW5mby5yb2xlID0gcm93LnJvbGU7CiAgICAgIHRoaXMudXNlcmluZm8uc3RhdHVzID0gcm93LnN0YXR1czsgLy8gY29uc29sZS5sb2codGhpcy51c2VyaW5mbykKICAgICAgLy8gY29uc29sZS5sb2cocm93KQogICAgfSwKICAgIC8vIOaPkOS6pOS/ruaUuQogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHBhcmFtcywgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIHVpZDogX3RoaXMyLnVzZXJpbmZvLnVpZCwKICAgICAgICAgICAgICAgICAgcm9sZTogX3RoaXMyLnVzZXJpbmZvLnJvbGUsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogX3RoaXMyLnVzZXJpbmZvLnN0YXR1cwogICAgICAgICAgICAgICAgfTsgLy8gY29uc29sZS5sb2cocGFyYW1zKQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCd1cGRhdGVSb2xlQW5kU3RhdHVzJywgcGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuJG5vdGlmeS5zdWNjZXNzKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+abtOaWsOaIkOWKnycKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuaXNTaG93ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmm7TmlrDlpLHotKUnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDms6jplIDotKbmiLcKICAgIGxvZ29mZjogZnVuY3Rpb24gbG9nb2ZmKHJvdykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBwYXJhbXMxLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcmFtczEgPSB7CiAgICAgICAgICAgICAgICAgIHVpZDogcm93LnVpZCwKICAgICAgICAgICAgICAgICAgcm9sZTogcm93LnJvbGUsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogMwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCd1cGRhdGVSb2xlQW5kU3RhdHVzJywgcGFyYW1zMSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfms6jplIDmiJDlip8nCiAgICAgICAgICAgICAgICAgIH0pOyAvLyDliLfmlrDnlKjmiLfkv6Hmga8KCgogICAgICAgICAgICAgICAgICBfdGhpczMuZ2V0QWxsVXNlcnMoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+azqOmUgOWksei0pScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWIhumhteWZqAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbDsKICAgICAgdGhpcy5nZXRBbGxVc2VycygpOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMubGltaXQgPSB2YWw7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLmdldEFsbFVzZXJzKCk7CiAgICB9LAogICAgLy8g5pCc57SiCiAgICB0b1NlYXJjaDogZnVuY3Rpb24gdG9TZWFyY2goKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaCkgewogICAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgICB0aGlzLmZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLnVzZXJzTGlzdCA9IFtdOwogICAgICAgIHRoaXMudXNlcnNMaXN0ID0gdGhpcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGl0ZW0pLnNvbWUoZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICAvL+aQnOe0ouaJgOacieeahOWGheWuuQogICAgICAgICAgICByZXR1cm4gU3RyaW5nKGl0ZW1ba2V5XSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHRoYXQuc2VhcmNoKSA+IC0xOyAvL+WPquaQnOe0oumXrumimOWGheWuue+8iOafkOS4gOS4qmtlee+8iQogICAgICAgICAgICAvLyByZXR1cm4gKAogICAgICAgICAgICAvLyAgIFN0cmluZyhwcm9kdWN0WyJxdWVzdGlvbnMiXSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaCkgPiAtMQogICAgICAgICAgICAvLyApOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7IC8vIHJldHVybiBzZWFyY2hWYWw7CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zaG93TGlzdCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZsYWcgPSB0cnVlOwogICAgICAgIHRoaXMuZ2V0QWxsVXNlcnMoKTsKICAgICAgfQogICAgfSwKICAgIFNlYXJjaExpc3Q6IGZ1bmN0aW9uIFNlYXJjaExpc3QoKSB7CiAgICAgIGlmICghdGhpcy5zZWFyY2gpIHsKICAgICAgICB0aGlzLmdldEFsbFVzZXJzKCk7CiAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACAA,eADA;AAGAC,MAHA,kBAGA;AACA;AACAC,mBADA;AAEAC,gBAFA;AAGAC;AAAAC;AAAAC;AAAA,OAHA;AAIAC,gBAJA;AAKAC,mBALA;AAMAP,cANA;AAOAQ,oBAPA;AAQAC,cARA;AASAC,cATA;AAUAC;AAVA;AAYA,GAhBA;AAkBAC,SAlBA,qBAkBA;AACA;AACA,GApBA;AAsBAC;AACA;AACAC,eAFA,yBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,oCADA;;AAAA;AACAC,uBADA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBALA,MAKA;AACA;AAAAC;AAAA;AACA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,KAZA;AAcA;AACAC,QAfA,gBAeAC,GAfA,EAeA;AACA;AACA;AACA;AACA,wCAJA,CAKA;AACA;AACA,KAtBA;AAwBA;AACAC,UAzBA,oBAyBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAC,sBADA,GACA;AACAC,0CADA;AAEAjB,4CAFA;AAGAC;AAHA,iBADA,EAMA;;AANA;AAAA,uBAOA,qDAPA;;AAAA;AAOAiB,sBAPA;;AAQA;AACA;AAAAN;AAAA;;AACA;AACA,iBAHA,MAGA;AACA;AAAAA;AAAA;AACA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA,KAvCA;AAyCA;AACAO,UA1CA,kBA0CAL,GA1CA,EA0CA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAM,uBADA,GACA;AAAAH;AAAAjB;AAAAC;AAAA,iBADA;AAAA;AAAA,uBAEA,sDAFA;;AAAA;AAEAiB,sBAFA;;AAGA;AACA;AAAAN;AAAA,qBADA,CAEA;;;AACA;AACA,iBAJA,MAIA;AACA;AAAAA;AAAA;AACA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,KApDA;AAsDA;AACAS,uBAvDA,+BAuDAC,GAvDA,EAuDA;AACA;AACA;AACA,KA1DA;AA2DAC,oBA3DA,4BA2DAD,GA3DA,EA2DA;AACA;AACA;AACA;AACA,KA/DA;AAgEA;AACAE,YAjEA,sBAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAFA,CAGA;AACA;AACA;AACA;AACA,WAPA;AAQA,SATA,EAJA,CAcA;AACA;AACA,OAhBA,MAgBA;AACA;AACA;AACA;AACA,KAtFA;AAuFAC,cAvFA,wBAuFA;AACA;AACA;AACA;AACA;AACA;AA5FA;AAtBA","names":["name","data","usersList","flag","userinfo","role","status","search","isShow","currentPage","limit","total","pageSizes","mounted","methods","getAllUsers","results","title","edit","row","submit","params","uid","result","logoff","params1","handleCurrentChange","val","handleSizeChange","toSearch","SearchList"],"sourceRoot":"src/views/admin/users","sources":["Users.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-card class=\"card\">\r\n      <div slot=\"header\">\r\n        <el-input\r\n          v-model=\"search\"\r\n          placeholder=\"请输入关键字...\"\r\n          class=\"search\"\r\n          @change=\"SearchList\"\r\n          clearable\r\n        ></el-input>\r\n        <el-button type=\"primary\" class=\"btn\" @click=\"toSearch\">搜索</el-button>\r\n      </div>\r\n      <div class=\"container\">\r\n      <el-table :data=\"usersList\" style=\"width: 100%\" align=\"center\">\r\n        <el-table-column prop=\"name\" label=\"用户ID\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"username\" label=\"用户名\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"xuehao\" label=\"学号\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"sex\" label=\"性别\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"email\" label=\"邮箱\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"phone\" label=\"联系电话\" width=\"width\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"role\" label=\"用户角色\" width=\"width\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n          <el-tag type=\"info\" v-if=\"scope.row.role == 1\" >用户</el-tag>\r\n          <el-tag type=\"danger\" v-if=\"scope.row.role == 2\" >管理员</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"status\" label=\"账号状态\" width=\"width\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag type=\"success\" v-if=\"scope.row.status == 1\" >正常</el-tag>\r\n            <el-tag type=\"warning\" v-if=\"scope.row.status == 2\">失信</el-tag>\r\n            <el-tag type=\"danger\" v-if=\"scope.row.status == 3\">注销</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"prop\" label=\"操作\" width=\"250\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"warning\" icon=\"el-icon-edit\" @click=\"edit(scope.row)\">修 改</el-button>\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"logoff(scope.row)\">注 销</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <pagination \r\n        v-show=\"flag\"\r\n        :currentPage=\"currentPage\" \r\n        :total=\"total\" \r\n        :limit=\"limit\" \r\n        :page-sizes='pageSizes'\r\n        @handleCurrentChange=\"handleCurrentChange\" \r\n        @handleSizeChange=\"handleSizeChange\"/>\r\n    </el-card>\r\n    <!-- 修改 -->\r\n    <el-dialog title=\"用户信息更新\" :visible.sync=\"isShow\" width=\"width\">\r\n      <div style=\"width:350px; margin:0px auto\">\r\n        <el-form ref=\"form\" :model=\"userinfo\" label-width=\"100px\" >\r\n          <el-form-item label=\"用户ID：\">\r\n          <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.name}} </span>\r\n          </el-form-item>\r\n          <el-form-item label=\"用户姓名：\">\r\n            <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.username}} </span>\r\n          </el-form-item>\r\n          <el-form-item label=\"学  号：\">\r\n            <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.xuehao}} </span>\r\n            \r\n          </el-form-item>\r\n          <el-form-item label=\"性  别：\">\r\n            <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.sex}} </span>\r\n            \r\n          </el-form-item>\r\n          <el-form-item label=\"邮  箱：\">\r\n            <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.email}} </span>\r\n          \r\n          </el-form-item>\r\n          <el-form-item label=\"联系电话：\">\r\n            <span style=\"font-size:16px;font-weight:700;\"> {{userinfo.phone}} </span>\r\n            \r\n          </el-form-item>\r\n          <el-form-item label=\"用户角色：\">\r\n            <el-radio-group v-model=\"userinfo.role\">\r\n              <el-radio :label=\"1\">用户</el-radio>\r\n              <el-radio :label=\"2\">管理员</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"账号状态：\">\r\n            <el-radio-group v-model=\"userinfo.status\">\r\n              <el-radio :label=\"1\">正常</el-radio>\r\n              <el-radio :label=\"2\">异常</el-radio>\r\n              <el-radio :label=\"3\">已注销</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div slot=\"footer\" style=\"text-align:center\">\r\n        <el-button style=\"margin:0px 25px\" @click=\"isShow = false\">取 消</el-button>\r\n        <el-button style=\"margin:0px 25px\" type=\"primary\" @click=\"submit\">提交修改</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Users',\r\n\r\n  data() {\r\n    return {\r\n      usersList:[],\r\n      flag:true,\r\n      userinfo:{role:'',status:''},\r\n      search:'',\r\n      isShow:false,\r\n      data:[],\r\n      currentPage: 1,\r\n            limit: 5,\r\n            total: 0,\r\n            pageSizes:[5,10,15,20]\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getAllUsers()\r\n  },\r\n\r\n  methods: {\r\n    // 获取所有的用户\r\n    async getAllUsers(){\r\n      const results = await this.$store.dispatch('getAllUsers')\r\n      if(results.code == 200 ){\r\n        this.data = results.data\r\n        this.usersList = []\r\n        this.usersList = results.data.slice((this.currentPage-1)*this.limit,this.limit*this.currentPage);\r\n        this.total = results.data.length\r\n      }else{\r\n        this.$notify.error({title:'获取数据失败'})\r\n      }\r\n    },\r\n\r\n    // 编辑\r\n    edit(row){\r\n      this.isShow = true\r\n      this.userinfo = row\r\n      this.userinfo.role = row.role\r\n      this.userinfo.status = row.status\r\n      // console.log(this.userinfo)\r\n      // console.log(row)\r\n    },\r\n\r\n    // 提交修改\r\n    async submit(){\r\n      let params = {\r\n        uid:this.userinfo.uid,\r\n        role:this.userinfo.role,\r\n        status:this.userinfo.status\r\n      }\r\n      // console.log(params)\r\n      const result = await this.$store.dispatch('updateRoleAndStatus',params)\r\n      if(result.code == 200){\r\n        this.$notify.success({title:'更新成功'})\r\n        this.isShow = false\r\n      }else{\r\n        this.$notify.error({title:'更新失败'})\r\n      }\r\n    },\r\n\r\n    // 注销账户\r\n    async logoff(row){\r\n      const params1 ={uid:row.uid,role:row.role,status:3}\r\n      const result = await this.$store.dispatch('updateRoleAndStatus',params1)\r\n      if(result.code ==200){\r\n        this.$notify.success({title:'注销成功'})\r\n        // 刷新用户信息\r\n        this.getAllUsers()\r\n      }else{\r\n        this.$notify.error({title:'注销失败'})\r\n      }\r\n    },\r\n\r\n    // 分页器\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n            this.getAllUsers();\r\n        },\r\n        handleSizeChange(val) {\r\n            this.limit = val\r\n            this.currentPage = 1;\r\n            this.getAllUsers();\r\n        },\r\n    // 搜索\r\n    toSearch() {\r\n      if (this.search) {\r\n        let that = this\r\n        this.flag = false\r\n        this.usersList = []\r\n        this.usersList = this.data.filter(item => {\r\n          return Object.keys(item).some(function (key) {\r\n            //搜索所有的内容\r\n            return String(item[key]).toLowerCase().indexOf(that.search) > -1;\r\n            //只搜索问题内容（某一个key）\r\n            // return (\r\n            //   String(product[\"questions\"]).toLowerCase().indexOf(search) > -1\r\n            // );\r\n          });\r\n        });\r\n        // return searchVal;\r\n        // console.log(this.showList)\r\n      } else {\r\n        this.flag = true\r\n        this.getAllUsers();\r\n      }\r\n    },\r\n    SearchList(){\r\n      if(!this.search){\r\n        this.getAllUsers()\r\n        this.flag = true\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.search {\r\n  width: 200px;\r\n  border-radius: 30px;\r\n  position: relative;\r\n  right: -1000px;\r\n}\r\n.btn {\r\n  position: relative;\r\n  right: -1020px;\r\n}\r\n.input{\r\n  width: 180px;\r\n}\r\n</style>\r\n<style>\r\n.el-table__row{\r\n  height: 90px!important;\r\n}\r\n</style>\r\n"]}]}